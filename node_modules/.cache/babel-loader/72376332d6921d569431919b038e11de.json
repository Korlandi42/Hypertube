{"ast":null,"code":"import _classCallCheck from \"/Users/korlandi/42/hypertube/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/korlandi/42/hypertube/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/korlandi/42/hypertube/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/korlandi/42/hypertube/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/korlandi/42/hypertube/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/korlandi/42/hypertube/src/components/profile/Profile.jsx\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Typography, Grid, Paper } from '@material-ui/core';\nimport { withStyles } from '@material-ui/core/styles';\nimport req from '../../utils/req';\nimport { alert } from '../../redux/snackbars/actions';\nimport host from '../../config';\n\nvar Profile =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Profile, _Component);\n\n  function Profile() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Profile);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Profile)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this._isMounted = false;\n\n    _this.setStateCheck = function (state, callback) {\n      if (_this._isMounted === true) {\n        _this.setState(state, function () {\n          if (callback) callback();\n        });\n      }\n    };\n\n    _this.state = {};\n    return _this;\n  }\n\n  _createClass(Profile, [{\n    key: \"fetchUser\",\n    value: function fetchUser(id) {\n      var _this2 = this;\n\n      var dispatch = this.props.dispatch;\n      req(host + '/api/users/' + id, {\n        useToken: true\n      }).then(function (res) {\n        _this2.setStateCheck({\n          username: res.username,\n          firstname: res.firstname,\n          lastname: res.lastname,\n          avatar: res.avatarUrl\n        });\n      }).catch(function (err) {\n        if (err._status === 404) dispatch(alert('USER_NOT_FOUND', 'error'));\n      });\n    }\n  }, {\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      this._isMounted = true;\n      this.fetchUser(this.props.match.params.id);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this._isMounted = false;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          firstname = _this$state.firstname,\n          lastname = _this$state.lastname,\n          username = _this$state.username,\n          avatar = _this$state.avatar;\n      var locale = this.props.locales.locale;\n      var classes = this.props.classes;\n      if (!username) return null;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        align: \"center\",\n        color: \"primary\",\n        variant: \"h4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, username), React.createElement(Grid, {\n        container: true,\n        spacing: 8,\n        justify: \"center\",\n        style: {\n          marginTop: '20px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        sm: 7,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: classes.avatar,\n        style: {\n          backgroundImage: 'url(' + avatar + ')'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      })), React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        sm: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        container: true,\n        spacing: 8,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        sm: 6,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, React.createElement(Paper, {\n        className: classes.paper,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        variant: \"caption\",\n        color: \"textPrimary\",\n        inline: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, locale.global.firstname), React.createElement(Typography, {\n        variant: \"caption\",\n        color: \"textPrimary\",\n        align: \"right\",\n        inline: true,\n        style: {\n          float: 'right'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, firstname))), React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        sm: 6,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, React.createElement(Paper, {\n        className: classes.paper,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        variant: \"caption\",\n        color: \"textPrimary\",\n        inline: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, locale.global.lastname), React.createElement(Typography, {\n        variant: \"caption\",\n        color: \"textPrimary\",\n        align: \"right\",\n        inline: true,\n        style: {\n          float: 'right'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, lastname)))))));\n    }\n  }]);\n\n  return Profile;\n}(Component);\n\nvar styles = {\n  paper: {\n    padding: '15px 20px'\n  },\n  avatar: {\n    width: '100%',\n    paddingBottom: '100%',\n    backgroundColor: '#222',\n    backgroundPosition: 'center',\n    backgroundRepeat: 'no-repeat',\n    backgroundSize: '100% auto',\n    borderRadius: '5px'\n  }\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return state;\n};\n\nvar ProfileExport = Profile;\nProfileExport = withStyles(styles)(ProfileExport);\nProfileExport = connect(mapStateToProps)(ProfileExport);\nexport default ProfileExport;","map":{"version":3,"sources":["/Users/korlandi/42/hypertube/src/components/profile/Profile.jsx"],"names":["React","Component","connect","Typography","Grid","Paper","withStyles","req","alert","host","Profile","_isMounted","setStateCheck","state","callback","setState","id","dispatch","props","useToken","then","res","username","firstname","lastname","avatar","avatarUrl","catch","err","_status","fetchUser","match","params","locale","locales","classes","marginTop","backgroundImage","paper","global","float","styles","padding","width","paddingBottom","backgroundColor","backgroundPosition","backgroundRepeat","backgroundSize","borderRadius","mapStateToProps","ProfileExport"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { Typography, Grid, Paper } from '@material-ui/core'\nimport { withStyles } from '@material-ui/core/styles'\nimport req from '../../utils/req'\nimport { alert } from '../../redux/snackbars/actions'\nimport host from '../../config'\n\nclass Profile extends Component {\n\n  _isMounted = false\n  setStateCheck = (state, callback) => {\n    if (this._isMounted === true) {\n      this.setState(state, () => {\n        if (callback) callback()\n      })\n    }\n  }\n\n  state = {}\n\n  fetchUser(id) {\n    const { dispatch } = this.props\n    req(host + '/api/users/' + id, {useToken: true})\n    .then(res => {\n      this.setStateCheck({\n        username: res.username,\n        firstname: res.firstname,\n        lastname: res.lastname,\n        avatar: res.avatarUrl\n      })\n    }).catch(err => {\n      if (err._status === 404)\n        dispatch(alert('USER_NOT_FOUND', 'error'))\n    })\n  }\n\n  componentWillMount() {\n    this._isMounted = true\n    this.fetchUser(this.props.match.params.id)\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false\n  }\n\n  render() {\n    const { firstname, lastname, username, avatar } = this.state\n    const { locale } = this.props.locales\n    const { classes } = this.props\n\n    if (!username) return null\n    return (\n      <div>\n        <Typography align=\"center\" color=\"primary\" variant=\"h4\">{username}</Typography>\n        <Grid container spacing={8} justify=\"center\" style={{marginTop:'20px'}}>\n          <Grid item xs={12} sm={7}>\n            <div\n              className={classes.avatar}\n              style={{backgroundImage:'url(' + avatar + ')'}}\n            >\n            </div>\n          </Grid>\n          <Grid item xs={12} sm={12}>\n            <Grid container spacing={8}>\n              <Grid item xs={12} sm={6}>\n                <Paper className={classes.paper}>\n                  <Typography variant=\"caption\" color=\"textPrimary\" inline>{locale.global.firstname}</Typography>\n                  <Typography variant=\"caption\" color=\"textPrimary\" align=\"right\" inline style={{float:'right'}}>{firstname}</Typography>\n                </Paper>\n              </Grid>\n              <Grid item xs={12} sm={6}>\n                <Paper className={classes.paper}>\n                  <Typography variant=\"caption\" color=\"textPrimary\" inline>{locale.global.lastname}</Typography>\n                  <Typography variant=\"caption\" color=\"textPrimary\" align=\"right\" inline style={{float:'right'}}>{lastname}</Typography>\n                </Paper>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n      </div>\n    )\n  }\n\n}\n\nconst styles = {\n  paper: {\n    padding:'15px 20px'\n  },\n  avatar: {\n    width: '100%',\n    paddingBottom: '100%',\n    backgroundColor: '#222',\n    backgroundPosition: 'center',\n    backgroundRepeat: 'no-repeat',\n    backgroundSize: '100% auto',\n    borderRadius: '5px'\n  }\n}\nconst mapStateToProps = state => { return state }\nlet ProfileExport = Profile\nProfileExport = withStyles(styles)(ProfileExport)\nProfileExport = connect(mapStateToProps)(ProfileExport)\n\nexport default ProfileExport\n"]},"metadata":{},"sourceType":"module"}